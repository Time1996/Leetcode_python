# Leetcode 397 整数替换
***
### 题目描述

给定一个正整数 *n*，你可以做如下操作：

1. 如果 *n* 是偶数，则用 `n / 2`替换 *n*。
2. 如果 *n* 是奇数，则可以用 `n + 1`或`n - 1`替换 *n*。
*n* 变为 1 所需的最小替换次数是多少？


**示例1：**

	输入:
	8

	输出:
	3

	解释:
	8 -> 4 -> 2 -> 1

**示例2：**

	输入:
	7

	输出:
	4

	解释:
	7 -> 8 -> 4 -> 2 -> 1
	或
	7 -> 6 -> 3 -> 2 -> 1


### 考点

位运算

### 思路
用递归的话，虽然很容易就可以做出来，但是肯定会非常耗时。考虑位运算求解。  
重点是要找到`n`为奇数时，什么时候 `n+1`，什么时候`n-1`。我们可以找出规律:   
当`n`的二进制为 `***01`时，如果`n-1`变成`***00`，此时可连续向右做两次除法运算，而如果`n+1`变成`***10`，只能做1次除法运算。  
当`n`的二进制为 `***11`时，同理。  
明显当数大的时候除法效率是高于加减法的。

### 代码
执行用时: **44ms**, 内存消耗: **13MB**。

```
class Solution:
    def integerReplacement(self, n: int) -> int:
        res = 0
        while n != 1:
            if (n & 3 == 3) and (n != 3):
                n += 1
            elif n & 1 == 1:
                n -= 1
            else:
                n = n >> 1
            res += 1
        return res
```





